### Запуск

#### вариант1: docker
1. установить докер
2. docker build -t test . && docker run --rm -it test

#### вариант2: не докер
1. python3 -m pip install virtualenv
2. python3 -m virtualenv venv
3. source ./venv/bin/activate
4. pip install -r requirements.txt
5. flask run --host 0.0.0.0

и оно поднимается на localhost:5000

### параметры и результаты ендпоинтов

Все пост запросы ожидают на вход json

В случае ошибки ответ такой:
```json
{
    "status": "error",
    "error": <описание ошибки, строка или словарь>
}
```
в нескольких ендпоинтах возвращается описание встречи, которое выглядит так:
```json
{
  "creator": <имя пользователя, создавшего встречу>,
  "description": <описание>,
  "start_datetime": <дата+время начала в формате iso>,
  "end_datetime": <дата+время конца в формате iso>,
  "id": <id встречи>,
  "repeat_type": <найстрока повтора>,
  "is_private": <приватная ли встреча>,
  "invitees": [
    {
      "accepted_invitation": <ответ на приглашение>,
      "username": <имя приглашенного пользователя>
    },
    ...
  ]
}
```
Или, если это приватная встреча, а юзер не аутентифицирован, или аутентифицирован юзер, не имеющий к этой встрече отношения, вот так:
```json
{
  "start_datetime": <дата+время начала в формате iso>,
  "end_datetime": <дата+время конца в формате iso>,
  "id": <id встречи>,
}
```


Аутентификация требуется при создании встречи и при ответе на приглашение, осуществляется передачей хедера
```
    Authorization: Basic <credentials>
```
где credentials - строка `<username>:<password>` закодированная в base64. Для запроса встреч аутентификация не требуется, но помогает видеть детали приватных встреч, если атентифицирован юзер, имеющий к ним отношение (создатель встречи, или приглашенный на нее)


#### POST /users - создание пользователя
##### параметры:
* username - строка от 2 до 30 символов, удовлетворяющая регэкспу '^[a-zA-Z_]\\w*$'
* password - пароль
##### ответ:
```json
{
    "status": "ok",
}
```

#### GET /users/\<username>/meetings?start=<>&end=<> - запрос всех встреч пользователя
##### параметры:
* username - строка от 2 до 30 символов, удовлетворяющая регэкспу '^[a-zA-Z_]\\w*$'
* start - дата+время в формате iso 
* end - дата+время в формате iso
##### ответ:
```json
{
    "status": "ok", 
    "meetings": [
      <описание встречи>
      ...
    ]
}
```

#### POST /meetings - создание встречи
##### параметры формы:
* creator_username - строка от 2 до 30 символов, удовлетворяющая регэкспу '^[a-zA-Z_]\\w*$'
* start - дата+время в формате iso 
* end - дата+время в формате iso
* description - *опционально* текст описания встречи
* invitees - *опционально* имена пользователей, которых надо пригласить через запятую
* repeat_type - *опционально* настройка повтора. Варианты: none, daily, weekly, monthly, yearly, every_working_day
* is_private - *опционально* является ли встреча приватной, "false" или "true"
##### ответ:
```json
{
    "status": "ok",
    "meeting_id": <id встречи>
}
```

#### GET /meetings/\<int:meeting_id> - запрос деталей встрчи
##### параметры:
* meeting_id - id встречи
##### ответ:
```json
{
    "status": "ok",
    "meeting_description": <описание встречи>
}
```

#### POST /invitations - ответ на приглашение
##### параметры формы:
* username - строка от 2 до 30 символов, удовлетворяющая регэкспу '^[a-zA-Z_]\\w*$'
* meeting_id - id встречи
* answer - ответ, "false" или "true"
##### ответ:
```json
{
    "status": "ok",
}
```

#### GET /find_free_window_for_users?usernames=<>&window_size=<>&start=<> - найти свободное окно для пользователей
##### параметры:
* usernames = имена пользователей через запятую
* window_size - размер окна в секундах
* start - дата+время в iso-формате с какого момента искать окно
##### ответ:
```json
{
    "status": "ok",
    "window": {
      "start": <дата+время начала окна в iso-формате>,
      "end": <дата+время конца окна в iso-формате>
    }
}
```


## Задание

Написать бэкенд для сервиса Календарь.

Сервис должен иметь HTTP API, позволяющее:
* [x] создать пользователя;
* [x] создать встречу в календаре пользователя со списком приглашенных пользователей;
* [x] получить детали встречи;
* [x] принять или отклонить приглашение другого пользователя;
* [x] найти все встречи пользователя для заданного промежутка времени;
* [x] для заданного списка пользователей и минимальной продолжительности встречи, найти ближайшей интервал времени, в котором все эти пользователи свободны.
* [x] У встреч в календаре должна быть возможна настройка повторов. В повторах нужно поддержать все возможности, доступные в Google-календаре, кроме Сustom.

Будет плюсом, если вы также реализуете одну или несколько из следующих функций:
* [x] аутентификация пользователя;
* [x] поддержка видимости встреч (если встреча приватная, другие пользователи могут получить только информацию о занятости пользователя, но не детали встречи);
* [ ] настройки часового пояса пользователя и его рабочего времени, использование этих настроек для поиска интервала времени, в котором участники свободны;
* [ ] настройки нотификации пользователя перед встречей (саму нотификацию достаточно реализовать записью в лог);
* [ ] поддержка Custom повторов, как в Google-календаре;
* другие функции, которые кажутся вам полезными в календаре.

## Исправление минусов из фидбека
* [x] Пароль хранится plain-text-ом.
* [x] В POST запросах данные принимаются form-encoded, хотя в JSON-апи было бы лучше и принимать данные тоже в JSON.
